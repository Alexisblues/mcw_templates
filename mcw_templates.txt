# mcw_templates v0.1
# File Based Templates
# Mike West
# http://mikewest.org/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjc6InZlcnNpb24iO3M6MzoiMC4xIjtzOjY6ImF1dGhvciI7czo5OiJNaWtlIFdl
c3QiO3M6MTA6ImF1dGhvcl91cmkiO3M6MjA6Imh0dHA6Ly9taWtld2VzdC5vcmcvIjtzOjEx
OiJkZXNjcmlwdGlvbiI7czoyMDoiRmlsZSBCYXNlZCBUZW1wbGF0ZXMiO3M6NDoidHlwZSI7
aToxO3M6NDoibmFtZSI7czoxMzoibWN3X3RlbXBsYXRlcyI7czo0OiJoZWxwIjtzOjE0NTU6
Igo8aDE+SW1wb3J0L0V4cG9ydCBUZW1wbGF0ZXMgYXMgRmlsZXM8L2gxPgoKPHA+VGhpcyBw
bHVnaW4gY3JlYXRlcyBhIG5ldyB0YWIgdW5kZXIgYGV4dGVuc2lvbnNgLCBlbmFibGluZyB0
aGUgdHJpdmlhbCBleHBvcnQgb2YgcGFnZXMsIGZvcm1zLCBhbmQgQ1NTIHJ1bGVzIHRvIGEg
c3BlY2lmaWVkIGZvbGRlciBmb3IgY29udmVuaWVudCBlZGl0aW5nLCBhbmQgdGhlIHN1YnNl
cXVlbnQgaW1wb3J0IG9mIG5ldyBhbmQgdXBkYXRlZCBmaWxlcy48L3A+Cgo8aDI+UmVxdWly
ZW1lbnRzPC9oMj4KCjxwPlRoaXMgcGx1Z2luIGhhcyBvbmx5IGJlZW4gdGVzdGVkIG9uIDxz
dHJvbmc+NC4wMzwvc3Ryb25nPi4gIEl0IG1pZ2h0IHdvcmsgb24gb3RoZXIgdmVyc2lvbiwg
YnV0IG5vIHByb21pc2VzITwvcD4KCjxwPlJlZ2FyZGxlc3Mgb2Ygd2hlcmUgaXQncyBiZWVu
IHRlc3RlZCwgdGhpcyBwbHVnaW4gbWVzc2VzIGFyb3VuZCB3aXRoIHlvdXIgZGF0YWJhc2Uu
ICA8c3Ryb25nPkRvIG5vdCB1c2UgaXQgd2l0aG91dCBiYWNraW5nIHVwIHlvdXIgZGF0YWJh
c2U8L3N0cm9uZz4uPC9wPgoKPGgyPlNldHVwPC9oMj4KPHA+CiAgICBCeSBkZWZhdWx0LCB0
aGUgcGx1Z2luIGxvb2tzIGZvciBhIGRpcmVjdG9yeSBuYW1lZCA8Y29kZT5fdGVtcGxhdGVz
PC9jb2RlPgogICAgaW4geW91ciA8Y29kZT50ZXh0cGF0dGVybjwvY29kZT4gZGlyZWN0b3J5
LiAgSWYgdGhlIGRpcmVjdG9yeSBkb2Vzbid0IGV4aXN0LAogICAgdGhlIHBsdWdpbiB3aWxs
IGF0dGVtcHQgdG8gY3JlYXRlIGl0IHRoZSBmaXJzdCB0aW1lIHlvdSBleHBvcnQgeW91cgog
ICAgdGVtcGxhdGVzLiBUaGlzIGNyZWF0aW9uIHdpbGwgYWxtb3N0IGNlcnRhaW5seSBmYWls
LCBzaW5jZSB0aGUKICAgIDxjb2RlPnRleHRwYXR0ZXJuPC9jb2RlPiBkaXJlY3RvcnkgdXN1
YWxseSBpc24ndCB3cml0YWJsZS4gIEluIHRoYXQgY2FzZSwKICAgIHlvdSdsbCBuZWVkIHRv
IGNyZWF0ZSB0aGlzICBkaXJlY3RvcnksIGFuZCBlbnN1cmUgdGhhdCB0aGUgd2ViIHNlcnZl
ciBoYXMKICAgIHdyaXRlIGFjY2Vzcy4gIElmIHlvdXIgc2l0ZSBpcyBob3N0ZWQgYXQKICAg
IDxjb2RlPi91c2Vycy9ob21lL215dXNlci93ZWIvcHVibGljLzwvY29kZT4sIHRoZW4gdGhl
IGZvbGxvd2luZyBjb21tYW5kcwogICAgY291bGQgYmUgdXNlZDoKPC9wPgo8cHJlPgo8Y29k
ZT4KICAgIGNkIC91c2Vycy9ob21lL215dXNlci93ZWIvcHVibGljLwogICAgbWtkaXIgLi90
ZXh0cGF0dGVybi9fdGVtcGxhdGVzCiAgICBjaG1vZCA3NzcgLi90ZXh0cGF0dGVybi9fdGVt
cGxhdGVzCjwvY29kZT4KPC9wcmU+Cgo8aDI+VXNhZ2U8L2gyPgo8cD5UbyB1c2UgdGhlIHBs
dWdpbiwgc2ltcGx5IHNlbGVjdCAnaW1wb3J0JyBvciAnZXhwb3J0JyBmcm9tIHRoZSBkcm9w
ZG93biBvbiB0aGUgcGx1Z2luJ3MgdGFiLiAgQ291bGRuJ3QgYmUgc2ltcGxlci48L3A+CiI7
czo0OiJjb2RlIjtzOjEzMzQ0OiIKLyoKICAgIFpFTSBURU1QTEFURSBDT05GSUcKICAgIC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KKi8KICAgICRwbHVnaW5bJ3ZlcnNpb24nXSAgICAgID0gJzAu
MSc7CiAgICAkcGx1Z2luWydhdXRob3InXSAgICAgICA9ICdNaWtlIFdlc3QnOwogICAgJHBs
dWdpblsnYXV0aG9yX3VyaSddICAgPSAnaHR0cDovL21pa2V3ZXN0Lm9yZy8nOwogICAgJHBs
dWdpblsnZGVzY3JpcHRpb24nXSAgPSAnRmlsZSBCYXNlZCBUZW1wbGF0ZXMnOwogICAgJHBs
dWdpblsndHlwZSddICAgICAgICAgPSAxOyAvLyAwIGZvciByZWd1bGFyIHBsdWdpbjsgMSBp
ZiBpdCBpbmNsdWRlcyBhZG1pbi1zaWRlIGNvZGUKICAgIEBpbmNsdWRlX29uY2UoJ3plbV90
cGwucGhwJyk7CgovKgogICAgUExVR0lOIENPTkZJRwogICAgLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQoqLwogICAgJG1jd190ZW1wbGF0ZXNbJ2RpciddICAgICAgICAgICAgICAgPSAnX3RlbXBs
YXRlcyc7CgogICAgJG1jd190ZW1wbGF0ZXNbJ2ltcG9ydF9uZXcnXSAgICAgICAgPSBUUlVF
OwoKICAgICRtY3dfdGVtcGxhdGVzWydwcmVmaXhfcGFnZSddICAgICAgID0gJ3BhZ2VfJzsK
ICAgICRtY3dfdGVtcGxhdGVzWydwcmVmaXhfZm9ybSddICAgICAgID0gJ2Zvcm1fJzsKICAg
ICRtY3dfdGVtcGxhdGVzWydwcmVmaXhfY3NzJ10gICAgICAgID0gJ2Nzc18nOwoKICAgICRt
Y3dfdGVtcGxhdGVzWydleHRlbnNpb25fcGFnZSddICAgID0gJy5odG1sJzsKICAgICRtY3df
dGVtcGxhdGVzWydleHRlbnNpb25fZm9ybSddICAgID0gJy5odG1sJzsKICAgICRtY3dfdGVt
cGxhdGVzWydleHRlbnNpb25fY3NzJ10gICAgID0gJy5jc3MnOwoKLyoKICAgIFBMVUdJTiBD
T0RFIChubyBlZGl0aW5nIGJlbG93IHRoaXMgbGluZSwgcGxlYXNlKQogICAgLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQoqLwogICAgJG1jd190ZW1wbGF0ZXNbJ2Z1bGxfcGF0aCddICAgICAgICAg
ICAgICAgICA9ICRHTE9CQUxTWyd0eHBjZmcnXVsndHhwYXRoJ10uJy8nLiRtY3dfdGVtcGxh
dGVzWydkaXInXS4nLyc7CgogICAgJG1jd190ZW1wbGF0ZXNbJ2Vycm9yJ11bJ3RlbXBsYXRl
J10gICAgICAgICA9ICIKICAgICAgICA8aDEgY2xhc3M9J2ZhaWx1cmUnPiVzPC9oMT4KICAg
ICAgICA8cD4lczwvcD4KICAgICI7CiAgICAkbWlzc2luZ19kaXJfaGVhZCA9ICJUZW1wbGF0
ZSBEaXJlY3RvcnkgTWlzc2luZyI7CiAgICAkbWlzc2luZ19kaXJfdGV4dCA9ICJUaGUgdGVt
cGxhdGUgZGlyZWN0b3J5IGA8c3Ryb25nPiIuJG1jd190ZW1wbGF0ZXNbJ2Z1bGxfcGF0aCdd
LiI8L3N0cm9uZz5gIGRvZXMgbm90IGV4aXN0LCBhbmQgY291bGQgbm90IGJlIGF1dG9tYXRp
Y2FsbHkgY3JlYXRlZC4gIFdvdWxkIHlvdSBtaW5kIGNyZWF0aW5nIGl0IHlvdXJzZWxmIGJ5
IHJ1bm5pbmcgc29tZXRoaW5nIGxpa2U8L3A+PHByZT48Y29kZT4gICAgbWtkaXIgIi4kbWN3
X3RlbXBsYXRlc1snZnVsbF9wYXRoJ10uIlxuICAgIGNobW9kIDc3NyAiLiRtY3dfdGVtcGxh
dGVzWydmdWxsX3BhdGgnXS4iPC9jb2RlPjwvcHJlPjxwPlRoYXQgc2hvdWxkIGZpeCB0aGUg
aXNzdWUuICBZb3UgY291bGQgYWxzbyBhZGp1c3QgdGhlIHBsdWdpbidzIGRpcmVjdG9yeSBi
eSBtb2RpZnlpbmcgPGNvZGU+XCRtY3dfdGVtcGxhdGVzWydkaXInXTwvY29kZT4gKG9yLCBp
ZiB5b3UncmUgKmNyYXp5KiwgPGNvZGU+XCRtY3dfdGVtcGxhdGVzWydmdWxsX3BhdGgnXTwv
Y29kZT4pIGluIHRoZSBwbHVnaW4ncyBjb2RlLiI7CiAgICAkbWN3X3RlbXBsYXRlc1snZXJy
b3InXVsnbWlzc2luZ19kaXInXSA9IHNwcmludGYoJG1jd190ZW1wbGF0ZXNbJ2Vycm9yJ11b
J3RlbXBsYXRlJ10sICRtaXNzaW5nX2Rpcl9oZWFkLCAkbWlzc2luZ19kaXJfdGV4dCk7Cgog
ICAgJGNhbnRfd3JpdGVfaGVhZCAgICA9ICJUZW1wbGF0ZSBEaXJlY3RvcnkgTm90IFdyaXRh
YmxlIjsKICAgICRjYW50X3dyaXRlX3RleHQgICAgPSAiSSBjYW4ndCBzZWVtIHRvIHdyaXRl
IHRvIHRoZSB0ZW1wbGF0ZSBkaXJlY3RvcnkgYDxzdHJvbmc+Ii4kbWN3X3RlbXBsYXRlc1sn
ZnVsbF9wYXRoJ10uIjwvc3Ryb25nPmAuICBXb3VsZCB5b3UgbWluZCBydW5uaW5nIHNvbWV0
aGluZyBsaWtlPC9wPjxwcmU+PGNvZGU+ICAgIGNobW9kIDc3NyAiLiRtY3dfdGVtcGxhdGVz
WydmdWxsX3BhdGgnXS4iPC9jb2RlPjwvcHJlPjxwPnRvIGZpeCB0aGUgcHJvYmxlbT8iOwog
ICAgJG1jd190ZW1wbGF0ZXNbJ2Vycm9yJ11bJ2NhbnRfd3JpdGUnXSA9IHNwcmludGYoJG1j
d190ZW1wbGF0ZXNbJ2Vycm9yJ11bJ3RlbXBsYXRlJ10sICRjYW50X3dyaXRlX2hlYWQsICRj
YW50X3dyaXRlX3RleHQpOwoKICAgICRHTE9CQUxTWydfTUNXX1RFTVBMQVRFU19DT05GSUcn
XSA9ICRtY3dfdGVtcGxhdGVzOwoKICAgIC8qCiAgICAgICAgUExVR0lOIENPREU6OkhFTFAK
ICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQogICAgKi8KICAgICAgICBpZiAoMCkgewogICAgICAgID8+
CiMgLS0tIEJFR0lOIFBMVUdJTiBIRUxQIC0tLQoKPGgxPkltcG9ydC9FeHBvcnQgVGVtcGxh
dGVzIGFzIEZpbGVzPC9oMT4KCjxwPlRoaXMgcGx1Z2luIGNyZWF0ZXMgYSBuZXcgdGFiIHVu
ZGVyIGBleHRlbnNpb25zYCwgZW5hYmxpbmcgdGhlIHRyaXZpYWwgZXhwb3J0IG9mIHBhZ2Vz
LCBmb3JtcywgYW5kIENTUyBydWxlcyB0byBhIHNwZWNpZmllZCBmb2xkZXIgZm9yIGNvbnZl
bmllbnQgZWRpdGluZywgYW5kIHRoZSBzdWJzZXF1ZW50IGltcG9ydCBvZiBuZXcgYW5kIHVw
ZGF0ZWQgZmlsZXMuPC9wPgoKPGgyPlJlcXVpcmVtZW50czwvaDI+Cgo8cD5UaGlzIHBsdWdp
biBoYXMgb25seSBiZWVuIHRlc3RlZCBvbiA8c3Ryb25nPjQuMDM8L3N0cm9uZz4uICBJdCBt
aWdodCB3b3JrIG9uIG90aGVyIHZlcnNpb24sIGJ1dCBubyBwcm9taXNlcyE8L3A+Cgo8cD5S
ZWdhcmRsZXNzIG9mIHdoZXJlIGl0J3MgYmVlbiB0ZXN0ZWQsIHRoaXMgcGx1Z2luIG1lc3Nl
cyBhcm91bmQgd2l0aCB5b3VyIGRhdGFiYXNlLiAgPHN0cm9uZz5EbyBub3QgdXNlIGl0IHdp
dGhvdXQgYmFja2luZyB1cCB5b3VyIGRhdGFiYXNlPC9zdHJvbmc+LjwvcD4KCjxoMj5TZXR1
cDwvaDI+CjxwPgogICAgQnkgZGVmYXVsdCwgdGhlIHBsdWdpbiBsb29rcyBmb3IgYSBkaXJl
Y3RvcnkgbmFtZWQgPGNvZGU+X3RlbXBsYXRlczwvY29kZT4KICAgIGluIHlvdXIgPGNvZGU+
dGV4dHBhdHRlcm48L2NvZGU+IGRpcmVjdG9yeS4gIElmIHRoZSBkaXJlY3RvcnkgZG9lc24n
dCBleGlzdCwKICAgIHRoZSBwbHVnaW4gd2lsbCBhdHRlbXB0IHRvIGNyZWF0ZSBpdCB0aGUg
Zmlyc3QgdGltZSB5b3UgZXhwb3J0IHlvdXIKICAgIHRlbXBsYXRlcy4gVGhpcyBjcmVhdGlv
biB3aWxsIGFsbW9zdCBjZXJ0YWlubHkgZmFpbCwgc2luY2UgdGhlCiAgICA8Y29kZT50ZXh0
cGF0dGVybjwvY29kZT4gZGlyZWN0b3J5IHVzdWFsbHkgaXNuJ3Qgd3JpdGFibGUuICBJbiB0
aGF0IGNhc2UsCiAgICB5b3UnbGwgbmVlZCB0byBjcmVhdGUgdGhpcyAgZGlyZWN0b3J5LCBh
bmQgZW5zdXJlIHRoYXQgdGhlIHdlYiBzZXJ2ZXIgaGFzCiAgICB3cml0ZSBhY2Nlc3MuICBJ
ZiB5b3VyIHNpdGUgaXMgaG9zdGVkIGF0CiAgICA8Y29kZT4vdXNlcnMvaG9tZS9teXVzZXIv
d2ViL3B1YmxpYy88L2NvZGU+LCB0aGVuIHRoZSBmb2xsb3dpbmcgY29tbWFuZHMKICAgIGNv
dWxkIGJlIHVzZWQ6CjwvcD4KPHByZT4KPGNvZGU+CiAgICBjZCAvdXNlcnMvaG9tZS9teXVz
ZXIvd2ViL3B1YmxpYy8KICAgIG1rZGlyIC4vdGV4dHBhdHRlcm4vX3RlbXBsYXRlcwogICAg
Y2htb2QgNzc3IC4vdGV4dHBhdHRlcm4vX3RlbXBsYXRlcwo8L2NvZGU+CjwvcHJlPgoKPGgy
PlVzYWdlPC9oMj4KPHA+VG8gdXNlIHRoZSBwbHVnaW4sIHNpbXBseSBzZWxlY3QgJ2ltcG9y
dCcgb3IgJ2V4cG9ydCcgZnJvbSB0aGUgZHJvcGRvd24gb24gdGhlIHBsdWdpbidzIHRhYi4g
IENvdWxkbid0IGJlIHNpbXBsZXIuPC9wPgoKIyAtLS0gRU5EIFBMVUdJTiBIRUxQIC0tLQog
ICAgICAgIDw/cGhwCiAgICAgICAgfQoKICAgIC8qCiAgICAgICAgUExVR0lOIENPREU6OklO
U1RBTlRJQVRJT04KICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgKi8KICAgICAgICBpZiAoQHR4
cGludGVyZmFjZSA9PSAnYWRtaW4nKSB7CiAgICAgICAgCSRpbXBvcnQgICAgICAgICA9ICdt
Y3dfdGVtcGxhdGVzJzsKICAgICAgICAJJGltcG9ydF90YWIgICAgID0gJ1RlbXBsYXRlIEZp
bGVzJzsKCiAgICAgICAgCS8vIFNldCB0aGUgcHJpdmlsZWdlIGxldmVscyBmb3Igb3VyIG5l
dyBldmVudAogICAgICAgIAlhZGRfcHJpdnMoJGltcG9ydCwgJzEsMicpOwoKICAgICAgICAJ
Ly8gQWRkIGEgbmV3IHRhYiB1bmRlciAnZXh0ZW5zaW9ucycgYXNzb2NpYXRlZCB3aXRoIG91
ciBldmVudAogICAgICAgIAlyZWdpc3Rlcl90YWIoImV4dGVuc2lvbnMiLCAkaW1wb3J0LCAk
aW1wb3J0X3RhYik7CgogICAgICAgIAkvLyAnemVtX2FkbWluX3Rlc3QnIHdpbGwgYmUgY2Fs
bGVkIHRvIGhhbmRsZSB0aGUgbmV3IGV2ZW50CiAgICAgICAgCXJlZ2lzdGVyX2NhbGxiYWNr
KCJtY3dfdGVtcGxhdGVzIiwgJGltcG9ydCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlv
biBtY3dfdGVtcGxhdGVzX2JlcmVpdCgpIHsKICAgICAgICAgICAgZ2xvYmFsICRfTUNXX1RF
TVBMQVRFU19DT05GSUc7CgogICAgICAgICAgICBpZiAoIWlzX2RpcigkX01DV19URU1QTEFU
RVNfQ09ORklHWydmdWxsX3BhdGgnXSkpIHsKICAgICAgICAgICAgICAgIGlmICghQG1rZGly
KCRfTUNXX1RFTVBMQVRFU19DT05GSUdbJ2Z1bGxfcGF0aCddLCAwNzc3KSkgewogICAgICAg
ICAgICAgICAgICAgIGVjaG8gJF9NQ1dfVEVNUExBVEVTX0NPTkZJR1snZXJyb3InXVsnbWlz
c2luZ19kaXInXTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAg
ICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFpc193cml0YWJsZSgk
X01DV19URU1QTEFURVNfQ09ORklHWydmdWxsX3BhdGgnXSkpIHsKICAgICAgICAgICAgICAg
IGVjaG8gJF9NQ1dfVEVNUExBVEVTX0NPTkZJR1snZXJyb3InXVsnY2FudF93cml0ZSddOwog
ICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAg
IHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbWN3X3RlbXBsYXRl
cygkZXZlbnQsICRzdGVwKSB7CiAgICAJCXBhZ2V0b3AoIlByb2Nlc3MgVGVtcGxhdGVzIiwg
IiIpOwoJCSAgICBwcmludCAiCgkgICAgICAgIDxzdHlsZSB0eXBlPSd0ZXh0L2Nzcyc+Cgkg
ICAgICAgICAgICAuc3VjY2VzcyB7IGNvbG9yOiAjMDA5OTAwOyB9CgkgICAgICAgICAgICAu
ZmFpbHVyZSB7IGNvbG9yOiAjRkYwMDAwOyB9CgkgICAgICAgIDwvc3R5bGU+CgoJICAgICAg
ICA8dGFibGUgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJyBib3JkZXI9JzAnIGlk
PSdsaXN0JyBhbGlnbj0nY2VudGVyJz4KCSAgICAgICAgPHRyPgoJICAgICAgICA8dGQ+Cgkg
ICAgICAgICI7CgkgICAgICAgIGlmICgkc3RlcCA9PSAnaW1wb3J0JykgewogICAgICAgICAg
ICAgICAgbWN3X3RlbXBsYXRlc19pbXBvcnQoKTsKICAgICAgICAgICAgfSBlbHNlaWYgKCRz
dGVwID09ICdleHBvcnQnKSB7CiAgICAgICAgICAgICAgICBtY3dfdGVtcGxhdGVzX2V4cG9y
dCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgCSAgICAgICAgcHJpbnQgIjxoMT5JbXBv
cnQvRXhwb3J0IFRlbXBsYXRlczwvaDE+Ii5mb3JtKAogICAgICAgICAgICAgICAgICAgIGdy
YWYoJ0FyZSB3ZSBpbXBvcnRpbmcgb3IgZXhwb3J0aW5nPycuCiAgICAgICAgICAgICAgICAg
ICAgICAgIHNlbGVjdElucHV0KCdzdGVwJywgYXJyYXkoJ2ltcG9ydCc9PidJbXBvcnQnLCdl
eHBvcnQnPT4nRXhwb3J0JyksICcnLCAxKS4KICAgICAgICAgICAgICAgICAgICAgICAgZklu
cHV0KCdzdWJtaXQnLCAnZ28nLCAnR28nLCAnc21hbGxlcmJveCcpLgogICAgICAgICAgICAg
ICAgICAgICAgICBlSW5wdXQoJ21jd190ZW1wbGF0ZXMnKQogICAgICAgICAgICAgICAgICAg
ICkKICAgIAkgICAgICAgICk7CgkgICAgICAgIH0KCSAgICAgICAgcHJpbnQgIgoJICAgICAg
ICA8L3RkPgoJICAgICAgICA8L3RyPgoJICAgICAgICA8L3RhYmxlPgoJICAgICAgICAiOwog
ICAgICAgIH0KCiAgICAvKgogICAgICAgIFBMVUdJTiBDT0RFOjpJTVBPUlQgRlVOQ1RJT04K
ICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQogICAgKi8KICAgIAlmdW5jdGlvbiBtY3dfdGVtcGxhdGVz
X2ltcG9ydCgpIHsKICAgICAgICAgICAgZ2xvYmFsICRfTUNXX1RFTVBMQVRFU19DT05GSUc7
CgoJCSAgICAvKgogICAgICAgICAgICAgICAgSWYgdGhlIGRpcmVjdG9yeSBkb2Vzbid0IGV4
aXN0LCB0aHJvdyBhbgogICAgICAgICAgICAgICAgZXJyb3Igd2l0aCBpbnN0cnVjdGlvbnMu
CiAgICAgICAgICAgICovCiAgICAgICAgICAgIGlmICghbWN3X3RlbXBsYXRlc19iZXJlaXQo
KSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgCSAgICBw
cmludCAiCiAgICAJICAgICAgICA8aDE+SW1wb3J0aW5nIFRlbXBsYXRlczwvaDE+CiAgICAJ
ICAgICAgICA8dWw+CiAgICAJICAgICI7CgoJCSAgICAkZGlyID0gb3BlbmRpcigkX01DV19U
RU1QTEFURVNfQ09ORklHWydmdWxsX3BhdGgnXSk7CgoJCSAgICB3aGlsZSAoJGZpbGVuYW1l
ID0gcmVhZGRpcigkZGlyKSkgIHsKCQkgICAgICAgIC8qCgkJICAgICAgICAgICAgSW1wb3J0
IHBhZ2VzOgoKCQkgICAgICAgICAgICBJZiB0aGUgZmlsZW5hbWUgYmVnaW5zIHdpdGggdGhl
IHBhZ2UgcHJlZml4LCBhbmQgZW5kcyB3aXRoCgkJICAgICAgICAgICAgdGhlIHBhZ2UgZXh0
ZW5zaW9uLCB0aGVuIHByb2Nlc3MgaXQuCgkJICAgICAgICAqLwoJCSAgICAgICAgJHBhZ2Vf
cmVnZXggPSAkX01DV19URU1QTEFURVNfQ09ORklHWydwcmVmaXhfcGFnZSddLicoLispJy4k
X01DV19URU1QTEFURVNfQ09ORklHWydleHRlbnNpb25fcGFnZSddOwoJCSAgICAgICAgJGZv
cm1fcmVnZXggPSAkX01DV19URU1QTEFURVNfQ09ORklHWydwcmVmaXhfZm9ybSddLicoLisp
Jy4kX01DV19URU1QTEFURVNfQ09ORklHWydleHRlbnNpb25fZm9ybSddOwoJCSAgICAgICAg
JGNzc19yZWdleCAgPSAkX01DV19URU1QTEFURVNfQ09ORklHWydwcmVmaXhfY3NzJ10gLico
LispJy4kX01DV19URU1QTEFURVNfQ09ORklHWydleHRlbnNpb25fY3NzJ107CgoJCSAgICAg
ICAgLy8gY3NzICA9IG5hbWUsIGNzcwoJCSAgICAgICAgLy8gcGFnZSA9IG5hbWUsIHVzZXJf
aHRtbAoJCSAgICAgICAgLy8gZm9ybSA9IG5hbWUsIHR5cGUsIEZvcm0KCgoJCSAgICAgICAg
aWYgKHByZWdfbWF0Y2goJy8nLiRwYWdlX3JlZ2V4LicvJywgJGZpbGVuYW1lLCAkcGFnZU5h
bWUpKSB7CgkJICAgICAgICAgICAgJHBhZ2VOYW1lID0gYWRkc2xhc2hlcygkcGFnZU5hbWVb
MV0pOwoJCSAgICAgICAgICAgICRmID0gJF9NQ1dfVEVNUExBVEVTX0NPTkZJR1snZnVsbF9w
YXRoJ10uJGZpbGVuYW1lOwoJCSAgICAgICAgICAgIGlmICgkcGFnZURhdGEgPSBmaWxlKCRm
KSkgewoJCSAgICAgICAgICAgICAgICAkcGFnZURhdGEgPSBhZGRzbGFzaGVzKGltcGxvZGUo
JycsICRwYWdlRGF0YSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhZmVfZmll
bGQoJ25hbWUnLCAndHhwX3BhZ2UnLCAibmFtZT0nJHBhZ2VOYW1lJyIpKSB7CiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAkcmVzdWx0ID0gc2FmZV91cGRhdGUoJ3R4cF9wYWdlJywg
ImB1c2VyX2h0bWxgID0gJyIuJHBhZ2VEYXRhLiInIiwgImBuYW1lYCA9ICciLiRwYWdlTmFt
ZS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN1Y2Nlc3MgPSAoJHJlc3Vs
dCk/MTowOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgJHJlc3VsdCA9IHNhZmVfaW5zZXJ0KCd0eHBfcGFnZScsICJgdXNl
cl9odG1sYCA9ICciLiRwYWdlRGF0YS4iJywgYG5hbWVgID0gJyIuJHBhZ2VOYW1lLiInIik7
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3VjY2VzcyA9ICgkcmVzdWx0KT8xOjA7
CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlm
ICgkc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIjxsaT48
c3BhbiBjbGFzcz0nc3VjY2Vzcyc+U3VjY2Vzc2Z1bGx5IGltcG9ydGVkPC9zcGFuPiBwYWdl
ICciLnN0cmlwc2xhc2hlcygkcGFnZU5hbWUpLiInPC9saT4iOwogICAgICAgICAgICAgICAg
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIjxs
aT48c3BhbiBjbGFzcz0nZmFpbHVyZSc+RmFpbGVkIGltcG9ydGluZzwvc3Bhbj4gcGFnZSAn
Ii5zdHJpcHNsYXNoZXMoJHBhZ2VOYW1lKS4iJzwvbGk+IjsKICAgICAgICAgICAgICAgICAg
ICAgICAgfQoJCSAgICAgICAgICAgIH0KCQkgICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNo
KCcvJy4kZm9ybV9yZWdleC4nLycsICRmaWxlbmFtZSwgJGZvcm1OYW1lKSkgewoJCSAgICAg
ICAgICAgICRmb3JtTmFtZSA9IGFkZHNsYXNoZXMoJGZvcm1OYW1lWzFdKTsKCQkgICAgICAg
ICAgICAkZiA9ICRfTUNXX1RFTVBMQVRFU19DT05GSUdbJ2Z1bGxfcGF0aCddLiRmaWxlbmFt
ZTsKCQkgICAgICAgICAgICBpZiAoJGZvcm1EYXRhID0gZmlsZSgkZikpIHsKCQkgICAgICAg
ICAgICAgICAgJGZvcm1EYXRhID0gYWRkc2xhc2hlcyhpbXBsb2RlKCcnLCAkZm9ybURhdGEp
KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYWZlX2ZpZWxkKCduYW1lJywgJ3R4
cF9mb3JtJywgIm5hbWU9JyRmb3JtTmFtZSciKSkgewogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJHJlc3VsdCA9IHNhZmVfdXBkYXRlKCd0eHBfZm9ybScsICJgRm9ybWAgPSAnIi4k
Zm9ybURhdGEuIiciLCAiYG5hbWVgID0gJyIuJGZvcm1OYW1lLiInIik7CiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAkc3VjY2VzcyA9ICgkcmVzdWx0KT8xOjA7CiAgICAgICAgICAg
ICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVz
dWx0ID0gc2FmZV9pbnNlcnQoJ3R4cF9mb3JtJywgImBGb3JtYCA9ICciLiRmb3JtRGF0YS4i
JywgYHR5cGVgID0gJ21pc2MnLCBgbmFtZWAgPSAnIi4kZm9ybU5hbWUuIiciKTsKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICRzdWNjZXNzID0gKCRyZXN1bHQpPzE6MDsKICAgICAg
ICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdWNj
ZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiPGxpPjxzcGFuIGNs
YXNzPSdzdWNjZXNzJz5TdWNjZXNzZnVsbHkgaW1wb3J0ZWQ8L3NwYW4+IGZvcm0gJyIuc3Ry
aXBzbGFzaGVzKCRmb3JtTmFtZSkuIic8L2xpPiI7CiAgICAgICAgICAgICAgICAgICAgICAg
IH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiPGxpPjxzcGFu
IGNsYXNzPSdmYWlsdXJlJz5GYWlsZWQgaW1wb3J0aW5nPC9zcGFuPiBmb3JtICciLnN0cmlw
c2xhc2hlcygkZm9ybU5hbWUpLiInPC9saT4iOwogICAgICAgICAgICAgICAgICAgICAgICB9
CgkJICAgICAgICAgICAgfQoJCSAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goJy8nLiRj
c3NfcmVnZXguJy8nLCAkZmlsZW5hbWUsICRjc3NOYW1lKSkgewoJCSAgICAgICAgICAgICRj
c3NOYW1lID0gYWRkc2xhc2hlcygkY3NzTmFtZVsxXSk7CgkJICAgICAgICAgICAgJGYgPSAk
X01DV19URU1QTEFURVNfQ09ORklHWydmdWxsX3BhdGgnXS4kZmlsZW5hbWU7CgkJICAgICAg
ICAgICAgaWYgKCRjc3NEYXRhID0gZmlsZSgkZikpIHsKCQkgICAgICAgICAgICAgICAgJGNz
c0RhdGEgPSBiYXNlNjRfZW5jb2RlKGltcGxvZGUoJycsICRjc3NEYXRhKSk7CgogICAgICAg
ICAgICAgICAgICAgICAgICBpZiAoc2FmZV9maWVsZCgnY3NzJywgJ3R4cF9jc3MnLCAibmFt
ZT0nJGNzc05hbWUnIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXN1bHQg
PSBzYWZlX3VwZGF0ZSgndHhwX2NzcycsICJgY3NzYCA9ICciLiRjc3NEYXRhLiInIiwgImBu
YW1lYCA9ICciLiRjc3NOYW1lLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAk
c3VjY2VzcyA9ICgkcmVzdWx0KT8xOjA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxz
ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVzdWx0ID0gc2FmZV9pbnNlcnQo
J3R4cF9jc3MnLCAiYGNzc2AgPSAnIi4kY3NzRGF0YS4iJywgYG5hbWVgID0gJyIuJGNzc05h
bWUuIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdWNjZXNzID0gKCRyZXN1
bHQpPzE6MDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKCRzdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmlu
dCAiPGxpPjxzcGFuIGNsYXNzPSdzdWNjZXNzJz5TdWNjZXNzZnVsbHkgaW1wb3J0ZWQ8L3Nw
YW4+IGNzcyAnIi5zdHJpcHNsYXNoZXMoJGNzc05hbWUpLiInPC9saT4iOwogICAgICAgICAg
ICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJp
bnQgIjxsaT48c3BhbiBjbGFzcz0nZmFpbHVyZSc+RmFpbGVkIGltcG9ydGluZzwvc3Bhbj4g
Y3NzICciLnN0cmlwc2xhc2hlcygkY3NzTmFtZSkuIic8L2xpPiI7CiAgICAgICAgICAgICAg
ICAgICAgICAgIH0KCQkgICAgICAgICAgICB9CgkJICAgICAgICB9CgkgICAgICAgIH0KCgkg
ICAgICAgIHByaW50ICIKCSAgICAgICAgICAgIDwvdWw+CgkgICAgICAgICI7CgoKICAgIAl9
CgoKCiAgICAvKgogICAgICAgIFBMVUdJTiBDT0RFOjpFWFBPUlQgRlVOQ1RJT04KICAgICAg
ICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQogICAgKi8KICAgICAgICBmdW5jdGlvbiBtY3dfdGVtcGxhdGVzX2V4
cG9ydCgpIHsKICAgICAgICAgICAgZ2xvYmFsICRfTUNXX1RFTVBMQVRFU19DT05GSUc7CgoJ
CSAgICAvKgogICAgICAgICAgICAgICAgSWYgdGhlIGRpcmVjdG9yeSBkb2Vzbid0IGV4aXN0
LCB0aHJvdyBhbgogICAgICAgICAgICAgICAgZXJyb3Igd2l0aCBpbnN0cnVjdGlvbnMuCiAg
ICAgICAgICAgICovCiAgICAgICAgICAgIGlmICghbWN3X3RlbXBsYXRlc19iZXJlaXQoKSkg
ewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAv
KgogICAgICAgICAgICAgICAgQmVnaW4gRXhwb3J0CiAgICAgICAgICAgICovCiAgICAgICAg
ICAgICRleHBvcnQgPSBhcnJheSgKICAgICAgICAgICAgICAgICJwYWdlIiAgPT4gInVzZXJf
aHRtbCIsCiAgICAgICAgICAgICAgICAiZm9ybSIgID0+ICJGb3JtIiwKICAgICAgICAgICAg
ICAgICJjc3MiICAgPT4gImNzcyIKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIGZvcmVh
Y2ggKCRleHBvcnQgYXMgJGV4cG9ydFR5cGUgPT4gJGZpZWxkTmFtZSkgewogICAgICAgICAg
ICAgICAgcHJpbnQgIgogICAgICAgICAgICAgICAgICAgIDxoMT5FeHBvcnRpbmc6ICIuJGV4
cG9ydFR5cGUuIiBmaWxlczwvaDE+CiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSdy
ZXN1bHRzJz4KICAgICAgICAgICAgICAgICI7CgogICAgICAgICAgICAgICAgJHRoaW5ncyA9
IHNhZmVfcm93cygnbmFtZSwnLiRmaWVsZE5hbWUsICJ0eHBfIi4kZXhwb3J0VHlwZSwgJzE9
MScpOwoKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCR0aGluZ3MgYXMgJHRoaW5nKSB7CiAg
ICAgICAgICAgICAgICAgICAgJGZpbGVOYW1lICAgPSAgICRfTUNXX1RFTVBMQVRFU19DT05G
SUdbJ3ByZWZpeF8nLiRleHBvcnRUeXBlXSAuCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICR0aGluZ1snbmFtZSddIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgJF9NQ1dfVEVNUExBVEVTX0NPTkZJR1snZXh0ZW5zaW9uXycuJGV4cG9ydFR5
cGVdOwoKICAgICAgICAgICAgICAgICAgICAvLyBEZWNvZGUgQ1NTOgogICAgICAgICAgICAg
ICAgICAgIGlmICgkZmllbGROYW1lID09ICdjc3MnKSB7CiAgICAgICAgICAgICAgICAgICAg
ICAgICR0aGluZ1snY3NzJ10gPSBiYXNlNjRfZGVjb2RlKCR0aGluZ1snY3NzJ10pOwogICAg
ICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJGYgPSBAZm9wZW4oJF9N
Q1dfVEVNUExBVEVTX0NPTkZJR1snZnVsbF9wYXRoJ10uJGZpbGVOYW1lLCAidysiKTsKICAg
ICAgICAgICAgICAgICAgICBpZiAoJGYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZndy
aXRlKCRmLCR0aGluZ1skZmllbGROYW1lXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZj
bG9zZSgkZik7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICIKICAgICAgICAgICAg
ICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPSdzdWNjZXNzJz5TdWNjZXNzZnVsbHkgZXhw
b3J0ZWQ8L3NwYW4+ICIuJGV4cG9ydFR5cGUuIiAnIi4kdGhpbmdbJ25hbWUnXS4iJyB0byAn
Ii4kZmlsZU5hbWUuIic8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAiOwogICAgICAg
ICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICIK
ICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPSdmYWlsdXJlJz5GYWls
dXJlIGV4cG9ydGluZzwvc3Bhbj4gIi4kZXhwb3J0VHlwZS4iICciLiR0aGluZ1snbmFtZSdd
LiInIHRvICciLiRmaWxlTmFtZS4iJzwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICI7
CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg
ICAgcHJpbnQgIgogICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAi
OwogICAgICAgICAgICB9CiAgICAgICAgfQoiO3M6MzoibWQ1IjtzOjMyOiJhNjZkNTA4NjMx
M2QzZDc5Y2VjZGMwMDAyNzExNDE5YiI7fQ==
